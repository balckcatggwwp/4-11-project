<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>æœƒå“¡è¨‚å–®æ˜ç´°</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
	<link rel="stylesheet" href="/css/memberCenter.css">
  	<link rel="stylesheet" href="/css/footer.css">
</head>
<body th:data-loggedin="${session.memberDetail != null}">
<!-- Bootstrap SVG icons symbols -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
	<symbol id="chevron-down" viewBox="0 0 16 16">
	  <path fill="currentColor" fill-rule="evenodd"
	    d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
	</symbol>
</svg>
<!-- åŒ¯å…¥ navbar -->
<div th:replace="fragments/navbar :: navbar"></div>
<div class="d-flex">
  <!-- å·¦å´å´é‚Šæ¬„ -->
  <div th:replace="fragments/memberDetailsideBar :: memberDetailsideBar"></div>

  <!-- å³å´å…§å®¹å€ -->
    <div class="container mt-4 flex-grow-1">
        <h2 class="mb
-4">ğŸ± é¤é»è¨‚å–®æ˜ç´°</h2>
        <table id="orderTable" class="table table-dark table-hover table-bordered align-middle">
            <thead class="text-center">
            <tr>
                <th>è¨‚å–®ç·¨è™Ÿ</th>
                <th>ä¸‹å–®æ™‚é–“</th>
                <th>é¤é»åç¨±</th>
                <th>æ•¸é‡</th>
                <th>å–®åƒ¹</th>
                <th>å°è¨ˆ</th>
            </tr>
            </thead>

<tbody>
  <th:block th:each="entry : ${orderMap}">
    <tr th:each="item, iterStat : ${entry.value}">
      <td th:text="${iterStat.index == 0} ? ${entry.key.orderId} : ''">è¨‚å–®ç·¨è™Ÿ</td>
      <td th:text="${iterStat.index == 0} ? ${#temporals.format(entry.key.orderTime, 'yyyy-MM-dd HH:mm')} : ''">ä¸‹å–®æ™‚é–“</td>
      <td th:text="${item.menu.menuName}">é¤é»åç¨±</td>
      <td th:text="${item.quantity}">æ•¸é‡</td>
      <td th:text="${item.unitPrice}">å–®åƒ¹</td>
      <td th:text="${item.subtotal}">å°è¨ˆ</td>
    </tr>
  </th:block>
</tbody>

        </table>
    </div>
</div>

<!-- DataTables JS & jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function () {
        $('#orderTable').DataTable({
            ordering: false, // âœ… é—œé–‰æ’åº
            paging: false,   // âœ… é—œé–‰åˆ†é ï¼ˆå°±ä¸æœƒæŠŠ rowspan åˆ‡æ–·ï¼‰
            language: {
                search: "æœå°‹ï¼š",
                lengthMenu: "é¡¯ç¤º _MENU_ ç­†è³‡æ–™",
                zeroRecords: "æ²’æœ‰ç¬¦åˆçš„è³‡æ–™",
                info: "é¡¯ç¤ºç¬¬ _START_ åˆ° _END_ ç­†ï¼Œå…± _TOTAL_ ç­†",
                infoEmpty: "å°šç„¡è³‡æ–™",
                infoFiltered: "(å¾ _MAX_ ç­†è³‡æ–™ä¸­ç¯©é¸)",
                paginate: {
                    first: "é¦–é ",
                    last: "å°¾é ",
                    next: "ä¸‹ä¸€é ",
                    previous: "ä¸Šä¸€é "
                }
            }
        });
    });
</script>

</body>
</html>
