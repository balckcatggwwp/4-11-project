<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:inline="javascript">
  <head>
    <meta charset="UTF-8" />
    <title>光影之門首頁</title>

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <link href="/css/sb-admin-2.min.css" rel="stylesheet" />
    <!-- 你的自定義樣式 -->
    <link rel="stylesheet" href="/css/index2.css" />
    <link rel="stylesheet" href="/css/footer.css" />
    

    <style>
      body {
        padding-top: 80px;
        /* 避開 fixed-top navbar */
      }

      .navbar .nav-link {
        font-size: 16px;
        font-weight: 600;
      }
    </style>
      <link rel="stylesheet" th:href="@{tickcss/car.css}">
  </head>

  <body th:data-loggedin="${session.memberDetail != null}">
    <!-- 載入 Bootstrap navbar fragment -->
    <th:block th:replace="~{fragments/navbar :: navbar}"></th:block>
    <!-- 主內容區與 footer 保留不變 -->
    <div class="container"></div>
      <!-- Showcase -->
      <!-- 公告圖片輪播區 -->
       <form action="ordercheck" method="get" id="yourFormId" onsubmit="return validateForm();">
        <!-- 用session自己帶 -->
        <!-- <input name="userid" placeholder="會員" class="form-control ud" type="text"> -->
        <input type="text" id="datepicker" class="form-control" placeholder="日期" required readonly>
        <select class="form-control selectpicker" id="moviename" name="movieid" required>
            <option value="">選日期在選電影</option>
        </select>
        <select name="showtimeid" id="time" required>
            <option value="">場次</option>
        </select>
        <select name="tickettypeid" class="form-control selectpicker" id="type" required>
            <option value="">票種</option>
        </select>
        <!-- <select name="hallid" class="form-control selectpicker" id="halls" required>
            <option value="">廳</option>
        </select> -->
        <input name="onemoney" placeholder="單價" class="form-control ud" type="text" id="money">
        <button type="submit" id="gogo">確認</button>
        <!-- <a id="gogo" class="new"></a> -->
    </form>
    <div class="cinema">


        <div class="screen">螢幕</div>

        <div class="seating-chart" id="seating-chart">
            <!-- Row A -->
            <!-- Row A -->
            <div class="row">
                <span class="seat-label">A</span>
                <div class="seat available" data-seat-id="A1">1</div>
                <div class="seat available" data-seat-id="A2">2</div>
                <div class="seat available" data-seat-id="A3">3</div> <!-- Initially available -->
                <div class="seat available" data-seat-id="A4">4</div>
                <div class="seat available" data-seat-id="A5">5</div>
                <div class="seat available" data-seat-id="A6">6</div>
                <div class="seat available" data-seat-id="A7">7</div> <!-- Initially available -->
                <div class="seat available" data-seat-id="A8">8</div>
                <div class="seat available" data-seat-id="A9">9</div>
                <div class="seat available" data-seat-id="A10">10</div>
            </div>
            <!-- Row B -->
            <div class="row">
                <span class="seat-label">B</span>
                <div class="seat available" data-seat-id="B1">1</div>
                <div class="seat available" data-seat-id="B2">2</div>
                <div class="seat available" data-seat-id="B3">3</div> <!-- Initially available -->
                <div class="seat available" data-seat-id="B4">4</div>
                <div class="seat available" data-seat-id="B5">5</div>
                <div class="seat available" data-seat-id="B6">6</div>
                <div class="seat available" data-seat-id="B7">7</div> <!-- Initially available -->
                <div class="seat available" data-seat-id="B8">8</div>
                <div class="seat available" data-seat-id="B9">9</div>
                <div class="seat available" data-seat-id="B10">10</div>
            </div>
            <!-- ... C, D, E 排，依此類推 ... -->
            <!-- Row C -->
            <div class="row">
                <span class="seat-label">C</span>
                <div class="seat available" data-seat-id="C1">1</div>
                <div class="seat available" data-seat-id="C2">2</div>
                <div class="seat available" data-seat-id="C3">3</div>
                <div class="seat available" data-seat-id="C4">4</div>
                <div class="seat available" data-seat-id="C5">5</div>
                <div class="seat available" data-seat-id="C6">6</div>
                <div class="seat available" data-seat-id="C7">7</div>
                <div class="seat available" data-seat-id="C8">8</div>
                <div class="seat available" data-seat-id="C9">9</div>
                <div class="seat available" data-seat-id="C10">10</div>
            </div>
            <!-- Row D -->
            <div class="row">
                <span class="seat-label">D</span>
                <div class="seat available" data-seat-id="D1">1</div>
                <div class="seat available" data-seat-id="D2">2</div>
                <div class="seat available" data-seat-id="D3">3</div>
                <div class="seat available" data-seat-id="D4">4</div>
                <div class="seat available" data-seat-id="D5">5</div>
                <div class="seat available" data-seat-id="D6">6</div>
                <div class="seat available" data-seat-id="D7">7</div>
                <div class="seat available" data-seat-id="D8">8</div>
                <div class="seat available" data-seat-id="D9">9</div>
                <div class="seat available" data-seat-id="D10">10</div>
            </div>
            <!-- Row E -->
            <div class="row">
                <span class="seat-label">E</span>
                <div class="seat available" data-seat-id="E1">1</div>
                <div class="seat available" data-seat-id="E2">2</div>
                <div class="seat available" data-seat-id="E3">3</div>
                <div class="seat available" data-seat-id="E4">4</div>
                <div class="seat available" data-seat-id="E5">5</div>
                <div class="seat available" data-seat-id="E6">6</div>
                <div class="seat available" data-seat-id="E7">7</div>
                <div class="seat available" data-seat-id="E8">8</div>
                <div class="seat available" data-seat-id="E9">9</div>
                <div class="seat available" data-seat-id="E10">10</div>
            </div>



            <ul class="legend">
                <li>
                    <div class="ok"></div>
                    <small class="da">可選 (綠)</small>
                </li>
                <li>
                    <div class="sele"></div>
                    <small class="da">已選 (藍)</small>
                </li>
                <li>
                    <div class="red"></div>
                    <small class="da">已佔用 (紅)</small>
                </li>
            </ul>




            <div class="summary">
                <p class="da">已選擇 <span id="count">0</span> 個座位</p>
                <p class="da">總金額: $<span id="total">0</span></p>
                <!-- 可以加一個確認按鈕 -->
                <!-- <button>確認訂票</button> -->
            </div>
      
      
      
      
      
      
      

      <!-- 關於電影院 -->
      <section class="carbon dark">
        <div class="content">
          <h2>光影之門電影院</h2>
          <p>
            光影之門電影院，創立於 2001
            年，致力於打造沉浸式觀影體驗，讓光影交織夢想，為每一位觀眾呈現極致視聽盛宴。
          </p>
          <a href="#" class="btn"
            >了解我們 <i class="fas fa-chevron-right"></i
          ></a>
        </div>
      </section>

      <!-- 社群連結 -->
      <section class="follow">
        <p>Follow Us</p>
        <a href="https://facebook.com"
          ><img src="/imgs/social-fb.png" alt="Facebook"
        /></a>
        <a href="https://twitter.com"
          ><img src="/imgs/social-twitter.png" alt="Twitter"
        /></a>
        <a href="https://linkedin.com"
          ><img src="/imgs/social-linkedin.png" alt="Linkedin"
        /></a>
      </section>

      <div th:if="${session.memberName != null}">
        <div
          class="modal fade"
          id="chatModal"
          tabindex="-1"
          aria-labelledby="chatModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">即時客服對話</h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                ></button>
              </div>
              <div class="modal-body">
                <div
                  id="chat-box"
                  style="
                    height: 200px;
                    overflow-y: auto;
                    border: 1px solid #ccc;
                    padding: 10px;
                  "
                ></div>

                <input
                  id="from"
                  class="form-control mt-2"
                  readonly
                  th:value="${session.memberName}"
                />
                <input
                  id="message"
                  class="form-control mt-2"
                  placeholder="輸入訊息"
                />
                <button onclick="sendMessage()" class="btn btn-primary mt-2">
                  送出
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <th:block th:replace="~{fragments/loginPage :: login}"></th:block>

    <!-- 載入 footer fragment -->
    <th:block th:replace="~{fragments/footer :: footer}"></th:block>

    <!-- Bootstrap JS -->
    
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap core JavaScript-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Custom scripts for all pages-->
    <script src="/js/sb-admin-2.min.js"></script>
    <!-- 其他 script -->
    <script th:if="${logoutSuccess}">
      Swal.fire({
        icon: "success",
        title: "登出成功",
        text: "您已成功登出！",
        confirmButtonText: "確認",
        timer: 3000,
        timerProgressBar: true,
      });
    </script>
    <script th:inline="javascript" src="/tickjs/car.js"></script>
    <script src="/js/loginPage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script src="/js/carousel.js"></script>
    <script src="/js/chat.js"></script>
  </body>
</html>
