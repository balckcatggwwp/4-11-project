<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:inline="javascript">
	<head>
		<meta charset="UTF-8" />
		<title>電影資訊</title>

		<!-- Bootstrap CSS -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
		/>

		<!-- FontAwesome -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
		/>
		<link href="/css/sb-admin-2.min.css" rel="stylesheet" />
		<!-- 你的自定義樣式 -->
		<link rel="stylesheet" href="/css/index2.css" />
		<link rel="stylesheet" href="/css/footer.css" />

		<style>
			body {
				padding-top: 80px;
				/* 避開 fixed-top navbar */
			}

			.navbar .nav-link {
				font-size: 16px;
				font-weight: 600;
			}
		</style>
	</head>

	<body>
		<!-- 載入 Bootstrap navbar fragment -->
		<th:block th:replace="~{fragments/navbar :: navbar}"></th:block>

		<!-- 主內容區 -->
		<div class="container">
			<section class="home-cards" id="movie-cards"></section>

			<!-- 關於電影院 -->
			<section class="carbon dark">
				<div class="content">
					<h2>光影之門電影院</h2>
					<p>
						光影之門電影院，創立於 2001
						年，致力於打造沉浸式觀影體驗，讓光影交織夢想，為每一位觀眾呈現極致視聽盛宴。
					</p>
					<a href="#" class="btn"
						>了解我們 <i class="fas fa-chevron-right"></i
					></a>
				</div>
			</section>

			<!-- 社群連結 -->
			<section class="follow">
				<p>Follow Us</p>
				<a href="https://facebook.com"
					><img src="/imgs/social-fb.png" alt="Facebook"
				/></a>
				<a href="https://twitter.com"
					><img src="/imgs/social-twitter.png" alt="Twitter"
				/></a>
				<a href="https://linkedin.com"
					><img src="/imgs/social-linkedin.png" alt="Linkedin"
				/></a>
			</section>
		</div>

		<th:block th:replace="~{fragments/loginPage :: login}"></th:block>

		<!-- 載入 footer fragment -->
		<th:block th:replace="~{fragments/footer :: footer}"></th:block>

		<!-- Bootstrap JS -->
		<script src="/js/jquery.js"></script>
		<script src="/js/bootstrap.bundle.min.js"></script>
		<!-- Bootstrap core JavaScript-->
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<!-- Custom scripts for all pages-->
		<script src="/js/sb-admin-2.min.js"></script>

		<script>
			$(document).ready(function () {
				$.ajax({
					url: "/movies/showing",
					method: "GET",
					success: function (data) {
						let html = "";
						data.forEach(function (movie) {
							html += `
            <div>
              <img src="/movie/images/${movie.image}" alt="電影圖片" />
              <h3>《${movie.name}》</h3>
              <p>${movie.description}</p>
            </div>
          `;
						});
						$("#movie-cards").html(html);
					},
					error: function () {
						$("#movie-cards").html("<p>載入電影資料失敗，請稍後再試。</p>");
					},
				});
			});
		</script>
		<!-- 其他 script -->
		<script th:if="${logoutSuccess}">
			Swal.fire({
				icon: "success",
				title: "登出成功",
				text: "您已成功登出！",
				confirmButtonText: "確認",
				timer: 3000,
				timerProgressBar: true,
			});
		</script>

		<script src="/js/loginPage.js"></script>
	</body>
</html>
