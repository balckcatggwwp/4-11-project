
<!-- templates/fragments/navbar.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
		/>
	</head>

	<body>
		<nav
			th:fragment="navbar"
			class="navbar navbar-expand-lg navbar-dark bg-black fixed-top"
		>
			<div class="container-fluid">
				<!-- Logo -->
				<a class="navbar-brand" th:href="@{/}">
					<img src="/imgs/logo.png" alt="光影之門" style="height: 60px" />
				</a>

				<!-- RWD Toggler -->
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="offcanvas"
					data-bs-target="#offcanvasNavbar"
					aria-controls="offcanvasNavbar"
				>
					<span class="navbar-toggler-icon"></span>
				</button>

				<!-- Navbar Content -->
				<div
					class="offcanvas offcanvas-end text-bg-dark"
					tabindex="-1"
					id="offcanvasNavbar"
					aria-labelledby="offcanvasNavbarLabel"
				>
					<div class="offcanvas-header">
						<h5 class="offcanvas-title" id="offcanvasNavbarLabel">選單</h5>
						<button
							type="button"
							class="btn-close btn-close-white"
							data-bs-dismiss="offcanvas"
							aria-label="Close"
						></button>
					</div>

					<div
						class="offcanvas-body d-flex justify-content-between align-items-center"
					>
						<!-- 左邊選單 -->
						<ul class="navbar-nav flex-grow-1">
							<!-- 會員專區 dropdown -->
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
								>
									會員專區
								</a>
								<ul class="dropdown-menu">
									<li>
										<a
											class="dropdown-item memberLink"
											th:href="@{/memberCenter}"
											>個人資料</a
										>
									</li>
									<li>
										<a class="dropdown-item memberLink" th:href="@{/detail}"
											>訂票明細</a
										>
									</li>
									<li>
										<a
											class="dropdown-item memberLink"
											th:href="@{/memberFoodOrders}"
											>餐點明細</a
										>
									</li>
									<li>
										<a class="dropdown-item memberLink" href="#">確認餐點</a>
									</li>

									<li>
										<hr class="dropdown-divider" />
									</li>
									<li>
										<a
											class="dropdown-item"
											href="#"
											data-bs-toggle="modal"
											data-bs-target="#chatModal"
											>聯絡客服</a
										>
									</li>
									<li><a class="dropdown-item" href="#">業務專區</a></li>
								</ul>
							</li>

							<li class="nav-item">
								<a class="nav-link" th:href="@{/template}">會員專區模板</a>
							</li>
							<li class="nav-item memberLink">
								<a class="nav-link" href="#">餐點訂購</a>
							</li>
							<li class="nav-item memberLink">
								<a class="nav-link" th:href="@{/orderset}">訂票專區</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#">最新公告</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#">場次查詢</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" th:href="@{/employee/empLogin2}"
									>員工登入(後台)</a
								>
							</li>
							<li class="nav-item">
								<a class="nav-link" th:href="@{/employee/empRegister2}"
									>員工註冊(後台)</a
								>
							</li>
						</ul>

						<!-- 右邊功能 icon -->
						<ul class="navbar-nav ms-auto">
							<li class="nav-item">
								<a class="nav-link" href="#"><i class="fas fa-search"></i></a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#"
									><i class="fas fa-shopping-cart"></i
								></a>
							</li>

							<!-- 登入區塊 -->
							<li class="nav-item user-menu">
								<span th:switch="${session.memberId != null}">
									<span th:case="false">
										<a class="nav-link" th:href="@{/member/login}"
											>登入/註冊 <i class="fa-solid fa-user"></i
										></a>
										<button
											type="button"
											class="btn btn-primary ms-2"
											data-bs-toggle="modal"
											data-bs-target="#loginModal"
										>
											登入
										</button>
									</span>
									<span th:case="true">
										<a class="nav-link" th:href="@{/member/logout}">
											歡迎, <span th:text="${session.memberName}">使用者</span>
											<i class="fa-solid fa-user-check"></i>
										</a>
									</span>
								</span>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</nav>
	</body>
</html>

